(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{162:function(t,o,i){},168:function(t,o){t.exports=function(t){throw new Error('"'+t+'" is read-only')}},169:function(t,o,i){},170:function(t,o,i){"use strict";var a=i(162);i.n(a).a},172:function(t,o,i){"use strict";i.r(o);var a=i(168),r=i.n(a),e=(i(55),i(56),i(14),i(169),2),n=3;function c(t,o){var i;return function t(a){if(a.id===o)return a;if(a.children&&a.children.length){var r=!0,e=!1,n=void 0;try{for(var c,l=a.children[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var d=c.value;if(d&&d.id===o)return void(i=d);t(d)}}catch(t){e=!0,n=t}finally{try{r||null==l.return||l.return()}finally{if(e)throw n}}}}(t),i}var l={components:{},props:{buildData:{type:Object,default:function(){return{}}},value:{type:Object,required:!1}},data:function(){return{historyMaps:[],historyCount:0}},computed:{mapData:function(){return this.value},floorList:function(){if(this.mapData){var t=(o=this.buildData,i=this.mapData,function t(o){if(o.children&&o.children.length){var r=!0,e=!1,n=void 0;try{for(var c,l=o.children[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var d=c.value;if(d&&d===i)return void(a=o);t(d)}}catch(t){e=!0,n=t}finally{try{r||null==l.return||l.return()}finally{if(e)throw n}}}}(o),a);return t&&t.children.filter(function(t){return t.type===n})}var o,i,a}},mounted:function(){this.mapData||this.emitValue(this.buildData)},methods:{handleAreaClick:function(t){this.$emit("areaClick",t,this.mapData)},handleAreaDbClick:function(t){if(this.$emit("areaDbClick",t,this.mapData),t.id){var o=c(this.buildData,t.id);o&&o.type===e&&(r()("node"),o=o.children[0]),o&&this.emitValue(o)}},handlePointClick:function(t){this.$emit("pointClick",t,this.mapData)},handlePointDbClick:function(t){if(this.$emit("pointDbClick",t,this.mapData),t.info&&t.info.id){var o=c(this.buildData,t.info.id);o&&o.type===e&&(o=o.children[0]),o&&this.emitValue(o)}},handleFloorClick:function(t){this.emitValue(t)},handleBackBtnClick:function(){if(!(this.historyCount<=1)){var t=this.historyMaps[this.historyCount-2];this.historyCount--,this.$emit("input",t)}},emitValue:function(t){this.$emit("input",t),this.historyCount<this.historyMaps.length&&(this.historyMaps=this.historyMaps.slice(0,this.historyCount)),this.historyMaps[this.historyCount]=t,this.historyCount++}},watch:{buildData:function(t){this.mapData||this.emitValue(this.buildData)}}},d=i(4),s=Object(d.a)(l,function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"fm-b-wrapper"},[t.mapData?i("fabric-map-vue",{attrs:{"svg-map-url":t.mapData.svgMapUrl,"background-color":t.mapData.backgroundColor,"point-list":t.mapData.pointList,"map-width":t.mapData.mapWidth,"map-height":t.mapData.mapHeight,"map-unit":t.mapData.mapUnit,heatmapOptions:t.mapData.heatmapOptions,"heatmap-min":t.mapData.heatmapMin,"heatmap-max":t.mapData.heatmapMax,"heatmap-data":t.mapData.heatmapData,"zoom-type":t.mapData.zoomType,"max-zoom":t.mapData.maxZoom,"min-zoom":t.mapData.minZoom,"zoom-rate":t.mapData.zoomRate,"click-active-fill-color":t.mapData.clickActiveFillColor,"allow-active-area-on-click":t.mapData.allowActiveAreaOnClick},on:{pointClick:t.handlePointClick,pointDbClick:t.handlePointDbClick,areaClick:t.handleAreaClick,areaDbClick:t.handleAreaDbClick}}):t._e(),t._v(" "),t.historyCount>1?i("div",{staticClass:"fm-b-back-wrapper"},[i("i",{staticClass:"fm-icon-left-circle fm-b-back-icon",on:{click:t.handleBackBtnClick}})]):t._e(),t._v(" "),t.floorList?i("div",{staticClass:"fm-b-floor-wrapper"},[i("ul",{staticClass:"fm-b-floor-list"},t._l(t.floorList,function(o,a){return i("li",{key:a,staticClass:"fm-b-floor-item",class:{active:o===t.mapData},on:{click:function(i){t.handleFloorClick(o)}}},[t._v(t._s(o.name))])}))]):t._e()],1)},[],!1,null,null,null);s.options.__file="index.vue";var p=s.exports,u=1,h=2,m=3,f={components:{fabricBuildingMapVue:p},data:function(){return{buildData:{id:1,type:u,svgMapUrl:"https://qiniu.qjzd.net/cf.svg",pointList:[{id:2,coordX:.30141547,coordY:.55013478,type:"img",url:"http://vve.qiniu.qjzd.net/Fgjso-fDXte_VzkvQS2n2d_Fb5uw"},{zoomThreshold:.5,id:2,coordX:.6944213,coordY:.55121297,type:"text",fill:"red",text:"餐饮  店",fontSize:16,angle:10,underline:!0},{coordX:.0016652789342214821,coordY:.5929919137466307,id:3},{id:123,type:"imgtext",coordX:.2,coordY:.2,image:{url:"http://vve.qiniu.qjzd.net/Fgjso-fDXte_VzkvQS2n2d_Fb5uw",originX:"center",originY:"center",width:20,height:23,top:0,left:0},text:{text:"12sdfsdf3",originX:"center",originY:"center",top:25,left:0,fontSize:16}}],heatmapData:[{coordX:.058284762697751874,coordY:.3706199460916442},{coordX:.15736885928393005,coordY:.3706199460916442},{coordX:.2206494587843464,coordY:.3706199460916442},{coordX:.24313072439633637,coordY:.35983827493261455},{coordX:.24895920066611157,coordY:.3490566037735849},{coordX:.2514571190674438,coordY:.33153638814016173},{coordX:.25228975853455454,coordY:.31805929919137466},{coordX:.2514571190674438,coordY:.3086253369272237},{coordX:.2456286427976686,coordY:.2991913746630728},{coordX:.23980016652789343,coordY:.29784366576819404},{coordX:.2373022481265612,coordY:.29649595687331537},{coordX:.23563696919233973,coordY:.29649595687331537},{coordX:.23813488759367193,coordY:.3005390835579515},{coordX:.24229808492922564,coordY:.3059299191374663},{coordX:.2547876769358868,coordY:.316711590296496},{coordX:.2664446294754371,coordY:.3247978436657682},{coordX:.27643630308076605,coordY:.33423180592991913},{coordX:.28309741881765194,coordY:.34097035040431267},{coordX:.28642797668609493,coordY:.3504043126684636},{coordX:.28642797668609493,coordY:.35444743935309975},{coordX:.28642797668609493,coordY:.36253369272237196},{coordX:.28642797668609493,coordY:.3706199460916442},{coordX:.28559533721898417,coordY:.37870619946091644},{coordX:.28309741881765194,coordY:.38409703504043125},{coordX:.28309741881765194,coordY:.3867924528301887},{coordX:.2839300582847627,coordY:.40161725067385445},{coordX:.29308909242298087,coordY:.4299191374663073},{coordX:.31973355537052456,coordY:.48247978436657685},{coordX:.3638634471273938,coordY:.5512129380053908},{coordX:.42714404662781014,coordY:.6199460916442049}],children:[{id:2,type:h,children:[{id:3,type:m,name:"1F",svgMapUrl:"https://vve.qiniu.qjzd.net/FjX8v4j87gKoqHLeKTfcRyxxdm7t",pointList:[{id:2,coordX:.40141547,coordY:.55013478,type:"img",url:"http://vve.qiniu.qjzd.net/FlMiBGKRZHyNtFL03ZCWv5ucIlCw"}],heatmapData:[{coordX:.5828476269775187,coordY:.3706199460916442,value:100}]},{id:4,type:m,name:"2F",svgMapUrl:"https://vve.qiniu.qjzd.net/FjX8v4j87gKoqHLeKTfcRyxxdm7t",pointList:[{id:2,coordX:.40141547,coordY:.55013478,type:"img",url:"http://vve.qiniu.qjzd.net/FlMiBGKRZHyNtFL03ZCWv5ucIlCw"}],heatmapData:[{coordX:.7828476269775188,coordY:.3706199460916442,value:100}]}]}]},mapData:void 0}}},v=(i(170),Object(d.a)(f,function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("div",{staticClass:"container layout-rl"},[t._m(0),t._v(" "),i("div",{staticClass:"map-wrapper"},[i("fabric-building-map-vue",{attrs:{"build-data":t.buildData},model:{value:t.mapData,callback:function(o){t.mapData=o},expression:"mapData"}})],1)])},[function(){var t=this.$createElement,o=this._self._c||t;return o("div",{staticClass:"op-wrapper"},[o("div",{staticClass:"section"},[o("p",{staticClass:"tip"},[this._v("提示说明")]),this._v(" "),o("ul",[o("li",[o("p",[this._v("双击点位，可以进行svg图切换。")])])])])])}],!1,null,"fa7c49b6",null));v.options.__file="mapswitch.vue";o.default=v.exports}}]);
//# sourceMappingURL=01d1d5840947afdfff2d.js.map